---
import ArgentinaClock from './ArgentinaClock.astro';

const { lang = "en" } = Astro.props;

const TECHS = [
  { name: "HTML", file: "html.svg" },
  { name: "CSS", file: "css.svg" },
  { name: "JavaScript", file: "javascript.svg" },
  { name: "TailwindCSS", file: "tailwindcss.svg" },
  { name: "Astro", file: "astro.svg" },
  { name: "Python", file: "python.svg" },
  { name: "Django", file: "django.svg" },
  { name: "Git", file: "git.svg" },
  { name: "GitHub", file: "github.svg" },
  { name: "SQL", file: "sql.svg" },
];

const ICONS = import.meta.glob("../icons/*.svg", { as: "raw", eager: true });
const iconFor = (file) => ICONS[`../icons/${file}`] ?? "";

const copy = {
  en: {
    title: "About me",

    workTitle: "At Work",
    workP1: `I‚Äôm currently looking for my <strong>first professional opportunity</strong>, and I bring a mindset built on
      <strong>learning fast</strong>, <strong>asking the right questions</strong>, and <strong>shipping improvements</strong>.
      I enjoy working in teams where expectations are clear and feedback is normal‚Äînot personal.`,
    workP2: `My focus is simple: <strong>build reliable UI</strong>, keep things <strong>maintainable</strong>, and make progress in small,
      consistent steps. I care about <strong>clean structure</strong>, readable code, and communicating early when something is blocked.`,

    personalTitle: "My personal side",
    personalP1: `If I had to define myself in three words: <strong>curious</strong>, <strong>resilient</strong>, and <strong>reliable</strong>.
      I like understanding how things work‚Äîso I don‚Äôt just copy solutions, I learn the ‚Äúwhy‚Äù behind them.`,
    personalP2: `I used to be quieter socially, so I intentionally worked on communication: <strong>listening well</strong>,
      being honest about what I know (and what I don‚Äôt), and collaborating without ego.
      When problems show up, I stay calm, break them down, and keep moving.`,
    badges: {
      dogs: "Dogs",
      terere: "Terer√©",
      calisthenics: "Calisthenics",
    },

    certTitle: "Certifications",
    certs: [
      "Informatorio - Stage 1 / Stage 2",
      "English Advanced C1 - EF SET",
      "Introduction to Python - Boot.dev",
      "JavaScript Algorithms and Data Structures - freecodecamp.org",
    ],

    locationTitle: "Location",
    basedIn: "Based in Argentina",

    techTitle: "Technologies",
  },

  es: {
    title: "Sobre m√≠",

    workTitle: "En el trabajo",
    workP1: `Hoy estoy buscando mi <strong>primera oportunidad profesional</strong>, y tengo una mentalidad enfocada en
      <strong>aprender r√°pido</strong>, <strong>hacer buenas preguntas</strong> y <strong>entregar mejoras</strong>.
      Me gusta laburar en equipos donde las expectativas est√°n claras y el feedback es normal‚Äîsin drama.`,
    workP2: `Mi foco es simple: <strong>armar UI confiable</strong>, que sea <strong>mantenible</strong>, y avanzar en pasos chicos pero constantes.
      Me importa la <strong>estructura limpia</strong>, el c√≥digo legible y avisar a tiempo cuando algo est√° trabado.`,

    personalTitle: "Mi lado personal",
    personalP1: `Si tuviera que definirme en tres palabras: <strong>curioso</strong>, <strong>resiliente</strong> y <strong>confiable</strong>.
      Me gusta entender c√≥mo funcionan las cosas‚Äîno copio soluciones porque s√≠: aprendo el ‚Äúpor qu√©‚Äù.`,
    personalP2: `Antes era m√°s callado socialmente, as√≠ que trabaj√© a prop√≥sito la comunicaci√≥n: <strong>escuchar bien</strong>,
      ser honesto con lo que s√© (y lo que no) y colaborar sin ego.
      Cuando aparecen problemas, me mantengo tranquilo, los desarmo y sigo avanzando.`,
    badges: {
      dogs: "Perros",
      terere: "Terer√©",
      calisthenics: "Calistenia",
    },

    certTitle: "Certificaciones",
    certs: [
      "Informatorio - Etapa 1 / Etapa 2",
      "Ingl√©s Avanzado C1 - EF SET",
      "Introducci√≥n a Python - Boot.dev",
      "JavaScript Algorithms and Data Structures - freecodecamp.org",
    ],

    locationTitle: "Ubicaci√≥n",
    basedIn: "En Argentina",

    techTitle: "Tecnolog√≠as",
  },
};

const t = lang === "es" ? copy.es : copy.en;

const SECTION_ICONS = {
  work: `<svg width="800" height="800" viewBox="0 0 48 48" version="1" xmlns="http://www.w3.org/2000/svg"><path fill="#424242" d="M27 7h-6c-1.7 0-3 1.3-3 3v3h2v-3c0-.6.4-1 1-1h6c.6 0 1 .4 1 1v3h2v-3c0-1.7-1.3-3-3-3"/><path fill="#e65100" d="M40 43H8c-2.2 0-4-1.8-4-4V15c0-2.2 1.8-4 4-4h32c2.2 0 4 1.8 4 4v24c0 2.2-1.8 4-4 4"/><path fill="#ff6e40" d="M40 28H8c-2.2 0-4-1.8-4-4v-9c0-2.2 1.8-4 4-4h32c2.2 0 4 1.8 4 4v9c0 2.2-1.8 4-4 4"/><path fill="#fff3e0" d="M26 26h-4c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1h4c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1"/></svg>`,
  personal: `<svg width="800" height="800" viewBox="0 0 24 24" data-name="Flat Color" xmlns="http://www.w3.org/2000/svg" class="icon flat-color"><path d="M21 20a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2 6 6 0 0 1 6-6h6a6 6 0 0 1 6 6m-9-8a5 5 0 1 0-5-5 5 5 0 0 0 5 5" style="fill:#0080FE"/></svg>`,
  cert: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 491.517 491.517" xml:space="preserve"><ellipse transform="rotate(225 45.842 45.841)" style="fill:#ebf0f3" cx="45.842" cy="45.841" rx="28.232" ry="58.343"/><path style="fill:#d5d6db" d="M404.945 487.458 4.688 87.201C27.85 110.363 110.362 27.85 87.201 4.689l400.256 400.257c23.163 23.161-59.35 105.674-82.512 82.512"/><path style="fill:#e56353" d="m319.196 236.685-45.837-45.837c-27.618 37.978-44.509 54.87-82.512 82.512l45.834 45.833c36.278-27.014 55.528-46.213 82.515-82.508"/><path style="fill:#d15241" d="m187.113 367.715-10.856-34.456-34.455-10.855 49.045-49.045 45.311 45.311z"/></svg>`,
  location: `<svg width="800px" height="800px" viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M128 757.333333a384 138.666667 0 1 0 768 0 384 138.666667 0 1 0-768 0Z" fill="#90CAF9" /><path d="M512 128c-129.6 0-234.666667 103.637333-234.666667 231.466667C277.333333 487.317333 512 789.333333 512 789.333333s234.666667-302.016 234.666667-429.866666C746.666667 231.637333 641.6 128 512 128z m0 341.333333a106.666667 106.666667 0 1 1 0-213.333333 106.666667 106.666667 0 0 1 0 213.333333z" fill="#FF3D00" /></svg>`,
  tech: `<svg width="800" height="800" viewBox="0 -0.5 17 17" xmlns="http://www.w3.org/2000/svg" class="si-glyph si-glyph-code"><title>815</title><path d="M11.74 11.993a.7.7 0 0 0 .493-.195l3.479-3.316a.644.644 0 0 0 0-.939l-3.479-3.318a.72.72 0 0 0-.984 0 .643.643 0 0 0 0 .938l2.987 2.85-2.987 2.848a.643.643 0 0 0 0 .938.7.7 0 0 0 .491.194m-7.439-.11a.73.73 0 0 1-.497-.19L.287 8.425a.62.62 0 0 1 0-.923l3.517-3.268a.74.74 0 0 1 .995 0 .624.624 0 0 1 0 .924l-3.02 2.805 3.02 2.804a.626.626 0 0 1 0 .926.74.74 0 0 1-.498.19m2.384 3.006a.67.67 0 0 0 .503-.51L9.934 1.885a.636.636 0 0 0-.488-.768.66.66 0 0 0-.77.514L5.93 14.125a.636.636 0 0 0 .755.764" class="si-glyph-fill" fill="currentColor"/></svg>`,
};

---

<!-- About me -->
<h1 id="about" class="text-5xl font-bold mb-14 text-cerise-600 dark:text-emerald-400">{t.title}</h1>

<div class="grid grid-cols-5 grid-rows-[repeat(12,minmax(0,auto))] content-start gap-6 max-w-6xl w-full mb-32">
  <!-- At Work Section -->
  <section class="bg-white dark:bg-gray-800 rounded-lg p-6 col-span-3 row-span-6 shadow-lg" aria-labelledby="work-heading">
    <h2 id="work-heading" class="text-3xl font-bold mb-4 flex items-center text-cerise-600 dark:text-emerald-400">
      <span class="mr-2 text-3xl h2-ico" set:html={SECTION_ICONS.work} aria-hidden="true"></span> {t.workTitle}
    </h2>

    <p class="text-xl mb-4 text-gray-700 dark:text-gray-300" set:html={t.workP1}></p>
    <p class="text-xl text-gray-700 dark:text-gray-300" set:html={t.workP2}></p>
  </section>

  <!-- My personal side Section -->
  <section class="bg-white dark:bg-gray-800 rounded-lg p-6 col-span-2 row-span-8 col-start-4 row-start-1 shadow-lg" aria-labelledby="personal-heading">
    <h2 id="personal-heading" class="text-3xl font-bold mb-4 flex items-center text-cerise-600 dark:text-emerald-400">
      <span class="mr-2 text-3xl h2-ico" set:html={SECTION_ICONS.personal} aria-hidden="true"></span> {t.personalTitle}
    </h2>

    <p class="mb-4 text-xl text-gray-700 dark:text-gray-300" set:html={t.personalP1}></p>
    <p class="text-xl text-gray-700 dark:text-gray-300" set:html={t.personalP2}></p>

    <div class="mt-8 flex items-end justify-center gap-10">
      <div class="flex flex-col items-center">
        <span class="text-5xl drop-shadow-sm">üê∂</span>
        <span class="mt-3 inline-flex items-center gap-2 rounded-full bg-gray-900/40 px-4 py-2 text-sm font-semibold text-gray-100 dark:bg-black/30">
          <span class="text-red-500">‚ù§</span> {t.badges.dogs}
        </span>
      </div>

      <div class="flex flex-col items-center">
        <span class="text-5xl drop-shadow-sm">üßâ</span>
        <span class="mt-3 inline-flex items-center gap-2 rounded-full bg-gray-900/40 px-4 py-2 text-sm font-semibold text-gray-100 dark:bg-black/30">
          <span class="text-red-500">‚ù§</span> {t.badges.terere}
        </span>
      </div>

      <div class="flex flex-col items-center">
        <span class="text-5xl drop-shadow-sm">üèãÔ∏è</span>
        <span class="mt-3 inline-flex items-center gap-2 rounded-full bg-gray-900/40 px-4 py-2 text-sm font-semibold text-gray-100 dark:bg-black/30">
          <span class="text-red-500">‚ù§</span> {t.badges.calisthenics}
        </span>
      </div>
    </div>
  </section>

  <!-- Certifications Section -->
  <section class="bg-white dark:bg-gray-800 rounded-lg p-6 col-span-3 row-span-2 col-start-1 row-start-7 shadow-lg" aria-labelledby="certifications-heading">
    <h2 id="certifications-heading" class="text-3xl font-bold mb-4 flex items-center text-cerise-600 dark:text-emerald-400">
      <span class="mr-2 text-3xl h2-ico" set:html={SECTION_ICONS.cert} aria-hidden="true"></span> {t.certTitle}
    </h2>

    <ul class="list-disc list-inside text-xl text-gray-700 dark:text-gray-300">
      {t.certs.map((item) => <li>{item}</li>)}
    </ul>
  </section>

  <!-- Location Section -->
  <section class="bg-white dark:bg-gray-800 rounded-lg p-6 col-span-2 row-span-5 col-start-1 row-start-9 flex flex-col items-center text-center shadow-lg" aria-labelledby="location-heading">
    <h2 id="location-heading" class="text-3xl font-bold mb-4 flex items-center self-start w-full text-cerise-600 dark:text-emerald-400">
      <span class="mr-2 text-3xl h2-ico" set:html={SECTION_ICONS.location} aria-hidden="true"></span> {t.locationTitle}
    </h2>

    <h3 class="text-2xl font-semibold mb-2 text-gray-800 dark:text-gray-200">{t.basedIn}</h3>
    <p id="ar-diff" class="text-sm mb-6 text-gray-600 dark:text-gray-400">‚Äî</p>

    <div class="w-full h-px bg-amber-200 dark:bg-white mb-6"></div>

    <!-- (le pasamos lang para que despu√©s lo traduzcamos tambi√©n) -->
    <ArgentinaClock lang={lang} />
  </section>

  <!-- Technologies Section -->
  <section class="bg-white dark:bg-gray-800 rounded-lg p-6 col-span-3 row-span-5 col-start-3 row-start-9 shadow-lg" aria-labelledby="technologies-heading">
    <h2 id="technologies-heading" class="text-3xl font-bold mb-4 flex items-center text-cerise-600 dark:text-emerald-400">
      <span class="mr-2 text-3xl h2-ico" set:html={SECTION_ICONS.tech} aria-hidden="true"></span> {t.techTitle}
    </h2>

    <div class="grid grid-cols-5 gap-4">
      {TECHS.map((tech) => (
        <div class="tech-tile">
          <span class="tech-ico" set:html={iconFor(tech.file)} aria-hidden="true" />
          <span class="tech-name">{tech.name}</span>
        </div>
      ))}
    </div>
  </section>
</div>
<style>
  .tech-tile{
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 10px;
    padding: 16px 12px;
    border-radius: 14px;
    background: rgba(255,255,255,.06);
    border: 1px solid rgba(255,255,255,.08);
  }

  .tech-ico{
    width: 44px;
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .tech-ico :global(svg){
    width: 36px;
    height: 36px;
    display: block;
    fill: currentColor;
    stroke: currentColor;
  }

  .tech-name{ font-size: 14px; font-weight: 700; opacity: .9; }

  .h2-ico{
    display: inline-flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
  }

  .h2-ico :global(svg){
    width: 1em;
    height: 1em;
    display: block;
  }
</style>